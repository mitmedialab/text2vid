<!DOCTYPE html>
<html>
<body>

<h1> Text2speech </h1>
<button onclick="yes();">Click me</button>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection">
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.6.7.min.js"></script>
  <script src="https://rawgit.com/aframevr/aframe/master/dist/aframe-master.min.js"></script>
  <script src="https://unpkg.com/aframe-text-geometry-component@0.5.1/dist/aframe-text-geometry-component.min.js"></script>
  <script src="https://rawgit.com/protyze/aframe-curve-component/master/dist/aframe-curve-component.min.js"></script>
  <script src="https://rawgit.com/protyze/aframe-alongpath-component/master/dist/aframe-alongpath-component.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  
  <script src="js/word2vec/data/wordvecs10000.js"></script>
  <script src="js/word2vec/assets/js/word2vecutils.js"></script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="js/text2speech.js"></script>
<script>



// Create a new utterance for the specified text and add it to
// the queue.
function speak(text) {
  // Create a new instance of SpeechSynthesisUtterance.
	var msg = new SpeechSynthesisUtterance();
  
  // Set the text.
	msg.text = text;
  
  // Set the attributes.
	msg.volume =1;
	msg.rate = .8;
	msg.pitch = 1;
  // If a voice has been selected, find the voice and set the
  // utterance instance's voice attribute.
	
	msg.voice = speechSynthesis.getVoices().filter(function(voice) { return voice.name == "Google UK English Male"; })[0];
	
  
  // Queue this utterance.
	window.speechSynthesis.speak(msg);
	
	
    if (phrase_count < splitted_text.length-1)
		{
		
		phrase_count = phrase_count+1;
		console.log(splitted_text.length);
		
		say();
		}
  
}



var phrase_count = 0;
var input_text = "HELLO HOW IS EVERYTHING GOING. I really love you. What should we do next? Why are we here. No way. YESSSSS! YESSSSS! YESSSSS!";
var splitted_text =""


function breakdown_sentence(text){
phrase_count = 0;
splitted_text = text.split(".");
console.log(splitted_text);
say();
}

function say()
	{
	var tosay = splitted_text[phrase_count];
	console.log(tosay);
	speak(tosay);
	}



function yes(){
	breakdown_sentence(input_text);
}

</script>
</body>
</html>
